<div class="result-component">
  <mat-card class="search-comp" style="margin-bottom: 40px">
    <app-search></app-search>
  </mat-card>
  <div fxLayout="row" fxLayoutAlign="center" *ngIf="loading">
    <mat-progress-spinner mode="indeterminate" diameter="100"></mat-progress-spinner>
  </div>

  <div *ngIf="count === 0 && !loading">
    <div class="no-results">
      No results available for your query!
    </div>
  </div>
  <mat-card class="result-card" *ngFor="let offer of offers | paginate: {
      itemsPerPage: pageSize,
          currentPage: page,
          totalItems: count
    };" [routerLink]="'/category/' + subcatId + '/offer/' + offer.id">
    <div fxLayout="row">
      <div fxLayout="column" class="img-col">
        <img [src]="offer.pictures[0].image" />
      </div>

      <div fxLayout="column" fxLayoutAlign="space-between" class="content-col">
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div fxLayout="column">{{ offer.name }}</div>
          <div fxLayout="column">{{ offer.address }}, {{offer.city}}</div>
        </div>

        <div fxLayout="row" style="padding: 15px 0px">
          <div>{{ offer.category }}</div>
        </div>

        <div fxLayout="row">
          {{ offer.description }}
        </div>
      </div>
    </div>
  </mat-card>
  <div *ngIf="count != 0 && !loading" class="pagination-control-div" fxLayout="row" fxFlexAlign="center">
    <pagination-controls class="pagination-control" previousLabel="Prev" nextLabel="Next" responsive="true"
      (pageChange)="handlePageChange($event)">
    </pagination-controls>
  </div>
</div>